---
date: 2022-05-20 15:07:22 +0900
published: true
---

# blog-builderでbacklinksを生成する

[[＃やりたい]]

- [[blog-builder]]で[[backlink]]を生成する
- できることのイメージ
  - ファイルの末尾にbacklinksという見出しと[[Wikilink]]のリストが追加される
    - backlinksがない場合は見出しは追加されない
      - 追加してもいい気がする
    - できればリストは更新が新しい順にしたい
- 実装イメージ1
  - 各ファイルが持つ[[Wikilink]]を出力する
    - json形式とか
    - mdの[[AST]]を生成して[[Wikilink]]を抽出する
      - https://github.com/unifiedjs/unified
      - https://github.com/remarkjs/remark
      - https://github.com/landakram/remark-wiki-link
  - 改めて各ファイルについてjsonからbacklinksを取り出して書き込む
  - 全ファイルの読み込みが2回ずつ発生するけどしょうがない気がする
- 実装イメージ2
  - 各ファイルが持つ[[Wikilink]]を出力する
    - まずディレクトリ内のmdのファイル名をリストにする
    - 各ファイルの中身を読んで`[[<各ファイル名>]]`があるかを見て判定する
    - ([[AST]]までやり始めるとめんどくさいから一旦これでいい気がする)
  - あとは実装イメージ1と同じ

[//begin]: # "Autogenerated link references for markdown compatibility"
[＃やりたい]: ＃やりたい "＃やりたい"
[blog-builder]: blog-builder "blog-builder"
[//end]: # "Autogenerated link references"